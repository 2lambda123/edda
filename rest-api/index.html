



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://netflix.github.io/edda/rest-api/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>REST API - Edda Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-82153845-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#rest-api" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://netflix.github.io/edda/" title="Edda Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Edda Docs
            </span>
            <span class="md-header-nav__topic">
              
                REST API
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Netflix/edda/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://netflix.github.io/edda/" title="Edda Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Edda Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Netflix/edda/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Edda" class="md-nav__link">
      Edda
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quick-start-guide/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../docker-start-guide/" title="Docker Start Guide" class="md-nav__link">
      Docker Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aws-permissions/" title="AWS Permissions" class="md-nav__link">
      AWS Permissions
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        REST API
      </label>
    
    <a href="./" title="REST API" class="md-nav__link md-nav__link--active">
      REST API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-matrix-arguments" class="md-nav__link">
    Select Matrix Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifier-matrix-arguments" class="md-nav__link">
    Modifier Matrix Arguments
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_all" class="md-nav__link">
    _all
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_at" class="md-nav__link">
    _at
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_callback" class="md-nav__link">
    _callback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_diff" class="md-nav__link">
    _diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_expand" class="md-nav__link">
    _expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_limit" class="md-nav__link">
    _limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_live" class="md-nav__link">
    _live
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_meta" class="md-nav__link">
    _meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_pp" class="md-nav__link">
    _pp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_since" class="md-nav__link">
    _since
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_until" class="md-nav__link">
    _until
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_updated" class="md-nav__link">
    _updated
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-selectors" class="md-nav__link">
    Field Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection-apis" class="md-nav__link">
    Collection APIs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apiv2aws" class="md-nav__link">
    /api/v2/aws
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2group" class="md-nav__link">
    /api/v2/group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2view" class="md-nav__link">
    /api/v2/view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../resiliency/" title="Resiliency" class="md-nav__link">
      Resiliency
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-matrix-arguments" class="md-nav__link">
    Select Matrix Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifier-matrix-arguments" class="md-nav__link">
    Modifier Matrix Arguments
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_all" class="md-nav__link">
    _all
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_at" class="md-nav__link">
    _at
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_callback" class="md-nav__link">
    _callback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_diff" class="md-nav__link">
    _diff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_expand" class="md-nav__link">
    _expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_limit" class="md-nav__link">
    _limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_live" class="md-nav__link">
    _live
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_meta" class="md-nav__link">
    _meta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_pp" class="md-nav__link">
    _pp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_since" class="md-nav__link">
    _since
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_until" class="md-nav__link">
    _until
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_updated" class="md-nav__link">
    _updated
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-selectors" class="md-nav__link">
    Field Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection-apis" class="md-nav__link">
    Collection APIs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apiv2aws" class="md-nav__link">
    /api/v2/aws
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2group" class="md-nav__link">
    /api/v2/group
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apiv2view" class="md-nav__link">
    /api/v2/view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Netflix/edda/edit/master/docs/rest-api.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="rest-api">REST API<a class="headerlink" href="#rest-api" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Resources can be fetched using HTTP GET requests. The output will always be JSON (or JSONP if
<a href="#_callback">_callback</a> is used). In many cases the results of the GET's will be identical to
an equivalent API call to the AWS service, however Edda will preserve cached copies of the API
calls so users can query what the resource looked like at a specific time, or can quickly scan
through all changes to a resource. Using Matrix Arguments you can find specific resources and
with Field Selectors you can extract just the data elements you are interested.</p>
<h2 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h2>
<p>All APIs might return an error. There will be a non 200 HTTP status code returned with content
formatted as:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;not found&quot;</span>
<span class="p">}</span>
</pre></div>

<h2 id="select-matrix-arguments">Select Matrix Arguments<a class="headerlink" href="#select-matrix-arguments" title="Permanent link">&para;</a></h2>
<p>You can use matrix arguments to query for specific resources. The argument name should map to
the location in the document with a <code>.</code> character separating hierarchy levels.</p>
<p>Given the following AWS AutoScalingGroup document structure:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;launchConfigurationName&quot;</span> <span class="p">:</span> <span class="s2">&quot;edda-201106231306&quot;</span><span class="p">,</span>
  <span class="nt">&quot;instances&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;launchConfigurationName&quot;</span> <span class="p">:</span> <span class="s2">&quot;edda-201106231306&quot;</span><span class="p">,</span>
      <span class="nt">&quot;instanceId&quot;</span> <span class="p">:</span> <span class="s2">&quot;i-0123456789&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lifecycleState&quot;</span> <span class="p">:</span> <span class="s2">&quot;InService&quot;</span><span class="p">,</span>
      <span class="nt">&quot;availabilityZone&quot;</span> <span class="p">:</span> <span class="s2">&quot;us-east-1d&quot;</span><span class="p">,</span>
      <span class="nt">&quot;healthStatus&quot;</span> <span class="p">:</span> <span class="s2">&quot;Healthy&quot;</span>
    <span class="p">}</span> 
  <span class="p">],</span>
  <span class="nt">&quot;availabilityZones&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;us-east-1c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;us-east-1d&quot;</span><span class="p">,</span>
    <span class="s2">&quot;us-east-1e&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;autoScalingGroupName&quot;</span> <span class="p">:</span> <span class="s2">&quot;edda&quot;</span>
<span class="p">}</span>
</pre></div>

<p>You could match it with these any of these queries:</p>
<div class="codehilite"><pre><span></span><span class="c1"># set the base url</span>
<span class="nb">export</span> <span class="nv">ASGS</span><span class="o">=</span><span class="s2">&quot;http://localhost:8080/edda/api/v2/aws/autoScalingGroups&quot;</span>

<span class="c1"># find an asg with a launch config</span>
curl <span class="s2">&quot;</span><span class="nv">$ASGS</span><span class="s2">;launchConfigurationName=edda-201106231306&quot;</span>

<span class="c1"># find all asgs configured for a zone</span>
curl <span class="s2">&quot;</span><span class="nv">$ASGS</span><span class="s2">;availabilityZones=us-east-1e&quot;</span>

<span class="c1"># find all asgs with at least one instance in a zone</span>
curl <span class="s2">&quot;</span><span class="nv">$ASGS</span><span class="s2">;instances.availabilityZone=us-east-1e&quot;</span>
</pre></div>

<p>Given this AWS Instance document structure:</p>
<div class="codehilite"><pre><span></span> <span class="p">{</span>
   <span class="nt">&quot;instanceId&quot;</span> <span class="p">:</span> <span class="s2">&quot;i-0123456789&quot;</span><span class="p">,</span>
   <span class="nt">&quot;publicIpAddress&quot;</span> <span class="p">:</span> <span class="s2">&quot;1.2.3.4&quot;</span><span class="p">,</span>
   <span class="nt">&quot;tags&quot;</span> <span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span> 
     <span class="nt">&quot;key&quot;</span> <span class="p">:</span> <span class="s2">&quot;aws:autoscaling:groupName&quot;</span><span class="p">,</span>
     <span class="nt">&quot;value&quot;</span> <span class="p">:</span> <span class="s2">&quot;edda-v107&quot;</span>
     <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;state&quot;</span> <span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;terminated&quot;</span><span class="p">,</span>
     <span class="nt">&quot;code&quot;</span> <span class="p">:</span> <span class="mi">16</span>
   <span class="p">},</span>
   <span class="nt">&quot;securityGroups&quot;</span> <span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span> 
     <span class="nt">&quot;groupId&quot;</span> <span class="p">:</span> <span class="s2">&quot;sg-0123456789&quot;</span><span class="p">,</span>
     <span class="nt">&quot;groupName&quot;</span> <span class="p">:</span> <span class="s2">&quot;corp&quot;</span>
     <span class="p">}</span>
   <span class="p">],</span>
   <span class="nt">&quot;instanceType&quot;</span> <span class="p">:</span> <span class="s2">&quot;m2.2xlarge&quot;</span><span class="p">,</span>
   <span class="nt">&quot;privateIpAddress&quot;</span> <span class="p">:</span> <span class="s2">&quot;10.10.10.1&quot;</span><span class="p">,</span>
   <span class="nt">&quot;publicDnsName&quot;</span> <span class="p">:</span> <span class="s2">&quot;ec2-1-2-3-4.compute-1.amazonaws.com&quot;</span><span class="p">,</span>
   <span class="nt">&quot;privateDnsName&quot;</span> <span class="p">:</span> <span class="s2">&quot;ip-10-10-10-1.ec2.internal&quot;</span><span class="p">,</span>
   <span class="nt">&quot;imageId&quot;</span> <span class="p">:</span> <span class="s2">&quot;ami-0123456789&quot;</span><span class="p">,</span>
   <span class="nt">&quot;placement&quot;</span> <span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;tenancy&quot;</span> <span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
     <span class="nt">&quot;availabilityZone&quot;</span> <span class="p">:</span> <span class="s2">&quot;us-east-1e&quot;</span><span class="p">,</span>
     <span class="nt">&quot;groupName&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>

<p>You could match it with any of these queries:</p>
<div class="codehilite"><pre><span></span><span class="c1"># set the base url</span>
<span class="nb">export</span> <span class="nv">INSTANCES</span><span class="o">=</span><span class="s2">&quot;http://localhost:8080/edda/api/v2/view/instances&quot;</span>

<span class="c1"># find an instance with a known publicIpAddress</span>
curl <span class="s2">&quot;</span><span class="nv">$INSTANCES</span><span class="s2">;publicIpAddress=1.2.3.4&quot;</span>

<span class="c1"># find instances in a given state</span>
curl <span class="s2">&quot;</span><span class="nv">$INSTANCES</span><span class="s2">;state.name=terminated&quot;</span>

<span class="c1"># find instances given a security group name</span>
curl <span class="s2">&quot;</span><span class="nv">$INSTANCES</span><span class="s2">;securityGroups.groupName=corp&quot;</span>

<span class="c1"># find instances for a zone</span>
curl <span class="s2">&quot;</span><span class="nv">$INSTANCES</span><span class="s2">;placement.availabilityZone=us-east-1e&quot;</span>
</pre></div>

<h2 id="modifier-matrix-arguments">Modifier Matrix Arguments<a class="headerlink" href="#modifier-matrix-arguments" title="Permanent link">&para;</a></h2>
<p>All Modifier Matrix Arguments begin with a <code>_</code> to try to avoid conflicts with the Select Matrix
Arguments as described above.</p>
<h3 id="_all">_all<a class="headerlink" href="#_all" title="Permanent link">&para;</a></h3>
<p>By default, the APIs only return the most recent documents. If you need to see every document
revision then then you can set <code>_all</code>.</p>
<p>Typically this Modifier would be used with <a href="#_diff">_diff</a> or <a href="#_meta">_meta</a>. The <a href="#_all">_all</a>
parameter implies <a href="#_expand">_expand</a>.</p>
<p>For example, you can use Field Selectors and <code>_all</code> to see all the state changes of a given
instance, and use <a href="#_meta">_meta</a> to see when those changes happened:</p>
<div class="codehilite"><pre><span></span><span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances/i-0123456789;_all;_pp;_meta:(stime,ltime,data:(state:(name)))&#39;</span>
</pre></div>

<h3 id="_at">_at<a class="headerlink" href="#_at" title="Permanent link">&para;</a></h3>
<p>The value of this parameter is a timestamp in milliseconds.</p>
<p>You can use <code>_at</code> to view a document as it appeared in the past. If a document has changed (asg
has new instances, instance has had eip attached) or is no longer valid (instance was terminated)
then you can use <code>_at</code> to see the document as it was in the past.  If you query for a document
that is no longer valid you will get a 410 GONE error when fetched, and you can use <code>_at</code> to find
the last seen copy:</p>
<div class="codehilite"><pre><span></span><span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances/i-0123456789;_pp;_at=1340837213797&#39;</span>
</pre></div>

<h3 id="_callback">_callback<a class="headerlink" href="#_callback" title="Permanent link">&para;</a></h3>
<p>The value of this parameter is the name of the callback.</p>
<p>This feature is used to provide a jsonp callback. The response <code>content-type</code> will be set to
<code>application/javascript</code> and the content will be wrapped with the provided callback name.</p>
<div class="codehilite"><pre><span></span><span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances/i-0123456789;_pp;_at=1340837213797;_callback=mycallback&#39;</span>
</pre></div>

<h3 id="_diff">_diff<a class="headerlink" href="#_diff" title="Permanent link">&para;</a></h3>
<p>The value of this parameter is an integer representing the number of lines of context you wish to
see.</p>
<p><code>_diff</code> can be used to get a unified diff when several revisions of a document are found. This
is typically used with <a href="#_all">_all</a>, <a href="#_since">_since</a>, <a href="#_until">_until</a> and <a href="#_limit">_limit</a>.</p>
<p>You can pass a value with the <code>_diff</code> argument as the number of lines of context. If you want
the full document, leave a blank value for <code>_diff</code>.</p>
<p>For example, to see the changes of a securityGroup over a given time range:</p>
<div class="codehilite"><pre><span></span><span class="nt">curl</span> <span class="s2">&quot;http://localhost:8080/edda/api/v2/aws/securityGroups/sg-0123456789;_since=1340398800000;_until=1340402400000;_all;_diff=0&quot;</span>
</pre></div>

<p>To see the diffs in the last 4 revisions of an instance:</p>
<div class="codehilite"><pre><span></span><span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances/i-0123456789;_diff=0;_all;_limit=4&#39;</span>
</pre></div>

<h3 id="_expand">_expand<a class="headerlink" href="#_expand" title="Permanent link">&para;</a></h3>
<p>By default, when you get a collection without specifying a resource id, you will receive an index
listing that contains only get the resource names.  If you want to see the full details of each
resource in the list, add the <code>_expand</code> parameter:</p>
<div class="codehilite"><pre><span></span><span class="err">#</span> <span class="nt">index</span> <span class="nt">listing</span>
<span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances;_limit=2;_pp&#39;</span>

<span class="err">#</span> <span class="nt">expanded</span>
<span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances;_limit=2;_pp;_expand&#39;</span>
</pre></div>

<h3 id="_limit">_limit<a class="headerlink" href="#_limit" title="Permanent link">&para;</a></h3>
<p>The value of this parameter is an integer.</p>
<p>Any time a list is returned, you can restrict the quantity returned with <code>_limit</code>. It is
frequently used with <a href="#_all">_all</a> to see the last <code>N</code> revisions of a document. See the
usage in <a href="#_diff">_diff</a> for an example use case.</p>
<h3 id="_live">_live<a class="headerlink" href="#_live" title="Permanent link">&para;</a></h3>
<p>This option should rarely be used. Edda is built on top of a MongoDB datastore, but there is
some in memory caching in the application servers.  There is a possibility for the caches to be
out of sync for brief period of time (cache is refreshed every 60s). If variation in the GET
responses cannot be tolerated, then you can use <code>_live</code> to direct the queries directly to
the MongoDB datastore.</p>
<h3 id="_meta">_meta<a class="headerlink" href="#_meta" title="Permanent link">&para;</a></h3>
<p>Edda collects some metadata for the documents it stores.  If you use the <code>_meta</code> Modifier
then the related metadata will be returned along the document.  Here are the keys you will see:</p>
<ul>
<li><code>stime</code>: Timestamp that Edda detected the document modification.</li>
<li><code>ltime</code>: Timestamp for when the document was last valid.</li>
<li><code>mtime</code>: Timestamp of when meta data was modified; it is typically the same as the <code>stime</code>.</li>
<li><code>ctime</code>: Either the create time of the document, or, if the the document has no create or start
time available, then it will be the first time Edda saw the document.</li>
<li><code>tags</code>: Map of key-value pairs that are used for internal Edda mappings.</li>
<li><code>id</code>: Primary identifier for the document (instanceId, autoScalingGroupName, etc).</li>
<li><code>data</code>: The document as stored.</li>
<li><code>_id</code>: Internal primary key, formatted as <code>id|stime</code>, which isused by MongoDB to track the
revisions.</li>
</ul>
<p>When using <code>_meta</code> with Select Matrix Arguments or Field Selectors, the document root changes
and you will need to modify parameter names to match (i.e. add a <code>data.</code> prefix when you want
to filter results with <code>_meta</code> and Select Matrix Arguments).</p>
<div class="codehilite"><pre><span></span><span class="err">#</span> <span class="nt">find</span> <span class="nt">all</span> <span class="nt">instances</span> <span class="nt">that</span> <span class="nt">have</span> <span class="nt">ever</span> <span class="nt">had</span> <span class="nt">an</span> <span class="nt">IP</span> <span class="nt">and</span> <span class="nt">print</span> <span class="nt">the</span> <span class="nt">instance</span> <span class="nt">ids</span> <span class="nt">and</span> <span class="nt">the</span> <span class="nt">tags</span><span class="o">:</span>
<span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances;publicIpAddress=1.2.3.4;_pp;_since=0;_expand:(instanceId,tags)&#39;</span><span class="o">;</span>

<span class="err">#</span> <span class="nt">now</span> <span class="nt">make</span> <span class="nt">the</span> <span class="nt">same</span> <span class="nt">request</span> <span class="nt">with</span> <span class="nt">_meta</span> <span class="nt">and</span> <span class="nt">select</span> <span class="nt">the</span> <span class="nt">ltime</span> <span class="nt">and</span> <span class="nt">stime</span>
<span class="err">#</span> <span class="nt">use</span> <span class="nt">data</span><span class="p">.</span><span class="nc">publicIpAddress</span> <span class="nt">and</span> <span class="nt">sub</span> <span class="nt">field</span> <span class="nt">selectors</span> <span class="nt">data</span><span class="o">:(</span><span class="nt">instanceId</span><span class="o">,</span><span class="nt">tags</span><span class="o">):</span>
<span class="nt">curl</span> <span class="s1">&#39;http://localhost:8080/edda/api/v2/view/instances;data.publicIpAddress=1.2.3.4;_pp;_since=0;_expand;_meta:(stime,ltime,data:(instanceId,tags))&#39;</span><span class="o">;</span>
</pre></div>

<h3 id="_pp">_pp<a class="headerlink" href="#_pp" title="Permanent link">&para;</a></h3>
<p>This will pretty print the response. Along with beautifying the format to make it readable, it
will also translate all the timestamps to more readable <code>YYYY-MM-DDTHH:mm:ss.SSSZ</code> time format.</p>
<p>Note that the <a href="https://stedolan.github.io/jq/">jq</a> CLI tool can be used to provide a similar
capability, except that it will not translate timestamps.</p>
<div class="codehilite"><pre><span></span><span class="err">#</span> <span class="nt">without</span> <span class="nt">pretty-print</span>
<span class="nt">curl</span> <span class="s2">&quot;http://localhost:8080/edda/api/v2/aws/volumes/vol-0123456789&quot;</span>

<span class="err">#</span> <span class="nt">with</span> <span class="nt">pretty-print</span>
<span class="nt">curl</span> <span class="s2">&quot;http://localhost:8080/edda/api/v2/aws/volumes/vol-0123456789;_pp&quot;</span>
</pre></div>

<h3 id="_since">_since<a class="headerlink" href="#_since" title="Permanent link">&para;</a></h3>
<p><code>_since</code> is the start of a time range.  If <a href="#_until">_until</a> is not also specified, then the
time range ends at "now".</p>
<p>When <code>_since</code> is added to a request, it will show you the most recent revision of all resources
that were valid at some point in that time range.  Note that <code>_since</code> does <strong>not</strong> show you
documents "modified since"; it will show any document that was valid during the time frame,
even it that document had no revisions during the period.</p>
<p>If you want to see only documents that were modified, use <a href="#_updated">_updated</a> along with
<code>_since</code>.  If you want to see all the documents alive in a time frame, then use <a href="#_all">_all</a>
with <code>_since</code>, otherwise it will only show you the most recent document found for each resource.</p>
<div class="codehilite"><pre><span></span># <span class="nv">set</span> <span class="nv">the</span> <span class="nv">base</span> <span class="nv">url</span>
<span class="nv">export</span> <span class="nv">EDDA</span><span class="o">=</span><span class="nv">http</span>:<span class="o">//</span><span class="nv">localhost</span>:<span class="mi">8080</span>

# <span class="k">show</span> <span class="nv">the</span> <span class="nv">instance</span> <span class="nv">that</span> <span class="nv">has</span> <span class="nv">an</span> <span class="nv">EIP</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;publicIpAddress=1.2.3.4</span><span class="s2">&quot;</span>

# <span class="k">show</span> <span class="nv">all</span> <span class="nv">instances</span> <span class="nv">that</span> <span class="nv">have</span> <span class="nv">ever</span> <span class="nv">had</span> <span class="nv">an</span> <span class="nv">EIP</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;publicIpAddress=1.2.3.4;_since=0</span><span class="s2">&quot;</span>

# <span class="k">show</span> <span class="nv">all</span> <span class="nv">instances</span> <span class="nv">that</span> <span class="nv">have</span> <span class="nv">had</span> <span class="nv">an</span> <span class="nv">EIP</span> <span class="nv">since</span> <span class="nv">June</span> <span class="mi">10</span><span class="nv">th</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2view/instances;publicIpAddress=1.2.3.4;_since=1339286400000</span><span class="s2">&quot;</span>

# <span class="k">show</span> <span class="nv">all</span> <span class="nv">instances</span> <span class="nv">that</span> <span class="nv">had</span> <span class="nv">an</span> <span class="nv">EIP</span> <span class="nv">from</span> <span class="nv">June</span> <span class="mi">10</span><span class="nv">th</span> <span class="nv">to</span> <span class="nv">June</span> <span class="mi">15</span><span class="nv">th</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;publicIpAddress=1.2.3.4;_since=1339286400000;_until=1339718400000</span><span class="s2">&quot;</span>

# <span class="nv">see</span> <span class="nv">all</span> <span class="nv">revisions</span> <span class="nv">that</span> <span class="nv">had</span> <span class="nv">an</span> <span class="nv">EIP</span> <span class="nv">from</span> <span class="nv">June</span> <span class="mi">10</span><span class="nv">th</span> <span class="nv">to</span> <span class="nv">June</span> <span class="mi">15</span><span class="nv">th</span> <span class="ss">(</span><span class="nv">and</span> <span class="nv">select</span> <span class="nv">only</span> <span class="nv">id</span>, <span class="nv">and</span> <span class="nv">stime</span><span class="ss">)</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;data.publicIpAddress=1.2.3.4;_since=1339286400000;_until=1339718400000;_all;_meta:(stime,id)</span><span class="s2">&quot;</span>

# <span class="nv">see</span> <span class="nv">list</span> <span class="nv">of</span> <span class="nv">all</span> <span class="nv">instances</span> <span class="nv">that</span> <span class="nv">changed</span> <span class="nv">on</span> <span class="nv">Jun</span> <span class="mi">11</span><span class="nv">th</span> <span class="nv">between</span> <span class="mi">10</span>:<span class="mi">00</span> <span class="nv">and</span> <span class="mi">10</span>:<span class="mi">01</span> <span class="nv">am</span>:
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;_since=1339408800000;_until=1339408860000;_updated</span><span class="s2">&quot;</span>

# <span class="nv">you</span> <span class="nv">can</span> <span class="nv">use</span> <span class="nv">jshon</span> <span class="nv">to</span> <span class="nv">turn</span> <span class="nv">that</span> <span class="nv">list</span> <span class="nv">into</span> <span class="nv">something</span> <span class="nv">processable</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">shell</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;_since=1339408800000;_until=1339408860000;_updated</span><span class="s2">&quot;</span> <span class="o">|</span> <span class="nv">jshon</span> <span class="o">-</span><span class="nv">a</span> <span class="o">-</span><span class="nv">u</span>

# <span class="nv">and</span> <span class="nv">a</span> <span class="nv">quick</span> <span class="k">loop</span> <span class="nv">will</span> <span class="k">show</span> <span class="nv">you</span> <span class="nv">all</span> <span class="nv">the</span> <span class="nv">changes</span>
<span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances;_since=1339408800000;_until=1339408860000;_updated</span><span class="s2">&quot;</span> \
<span class="o">|</span> <span class="nv">jshon</span> <span class="o">-</span><span class="nv">a</span> <span class="o">-</span><span class="nv">u</span> \
<span class="o">|</span> <span class="k">while</span> <span class="nv">read</span> <span class="nv">instance</span><span class="c1">; do \</span>
    <span class="nv">curl</span> <span class="s2">&quot;</span><span class="s">$EDDA/api/v2/view/instances/$instance;_since=1339408800000;_until=1339408860000;_all;_diff=2</span><span class="s2">&quot;</span><span class="c1">; \</span>
<span class="nv">done</span>
</pre></div>

<h3 id="_until">_until<a class="headerlink" href="#_until" title="Permanent link">&para;</a></h3>
<p>The value of this parameter is a timestamp, in milliseconds.</p>
<p>This is the end of a time range started by <a href="#_since">_since</a>.</p>
<p>See the above documentation of <a href="#_since">_since</a> for examples.</p>
<h3 id="_updated">_updated<a class="headerlink" href="#_updated" title="Permanent link">&para;</a></h3>
<p>This will change the behavior from showing any valid documents in a time range to only showing
documents that have been modified in a time range. You can implement "if modified since" logic
with this to see only changed resources since the last time you polled (useful for periodic
local cache updates). See an example in <a href="#_since">_since</a>.</p>
<h2 id="field-selectors">Field Selectors<a class="headerlink" href="#field-selectors" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.linkedin.com/docs/v1/people/field-selector">Field Selectors</a> can be used to restrict the data returned, and use matrix arguments to filter
the data returned in cases where the resource id is not available or desired.  </p>
<p>Field Selectors syntax must always go at the end of the URI, it follows the form of:</p>
<div class="codehilite"><pre><span></span><span class="p">:(</span><span class="k">key</span><span class="p">,</span><span class="k">key</span><span class="p">:(</span><span class="n">subkey</span><span class="p">,</span><span class="n">subkey</span><span class="p">))</span>
</pre></div>

<p>Here is an example that filters an AutoScalingGroup to only show the ASG name, instanceIds, and
health status:</p>
<div class="codehilite"><pre><span></span><span class="c1"># set the base url</span>
<span class="nb">export</span> <span class="nv">ASGS</span><span class="o">=</span><span class="s2">&quot;http://localhost:8080/edda/api/v2/aws/autoScalingGroups/edda-v123&quot;</span>

<span class="c1"># filter the results to the specified fields</span>
curl <span class="s2">&quot;</span><span class="nv">$ASGS</span><span class="s2">;_pp:(autoScalingGroupName,instances:(instanceId,lifecycleState))&quot;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="p">{</span> 
  <span class="nt">&quot;autoScalingGroupName&quot;</span> <span class="p">:</span> <span class="s2">&quot;edda-v123&quot;</span><span class="p">,</span>
  <span class="nt">&quot;instances&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> 
      <span class="nt">&quot;instanceId&quot;</span> <span class="p">:</span> <span class="s2">&quot;i-0123456789&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lifecycleState&quot;</span> <span class="p">:</span> <span class="s2">&quot;InService&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span> 
      <span class="nt">&quot;instanceId&quot;</span> <span class="p">:</span> <span class="s2">&quot;i-012345678a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lifecycleState&quot;</span> <span class="p">:</span> <span class="s2">&quot;InService&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span> 
      <span class="nt">&quot;instanceId&quot;</span> <span class="p">:</span> <span class="s2">&quot;i-012345678b&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lifecycleState&quot;</span> <span class="p">:</span> <span class="s2">&quot;InService&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<h2 id="collection-apis">Collection APIs<a class="headerlink" href="#collection-apis" title="Permanent link">&para;</a></h2>
<h3 id="apiv2aws">/api/v2/aws<a class="headerlink" href="#apiv2aws" title="Permanent link">&para;</a></h3>
<p>All APIs under <code>/api/v2/aws</code> return the raw (JSON serialized) resources as the Amazon AWS APIs
return.</p>
<table>
    <tr>
        <th>Collection <th>Endpoints <th>Notes
    <tr>
        <td>addresses
        <td>
            <ul>
                <li>GET /api/v2/aws/addresses
                <li>GET /api/v2/aws/addresses;_all
                <li>GET /api/v2/aws/addresses/:name
        <td>
    <tr>
        <td>alarms
        <td>
            <ul>
                <li>GET /api/v2/aws/alarms
                <li>GET /api/v2/aws/alarms;_all
                <li>GET /api/v2/aws/alarms/:name
        <td>
    <tr>
        <td>autoScalingGroups
        <td>
            <ul>
                <li>GET /api/v2/aws/autoScalingGroups
                <li>GET /api/v2/aws/autoScalingGroups;_all
                <li>GET /api/v2/aws/autoScalingGroups/:name
        <td>
    <tr>
        <td>buckets
        <td>
            <ul>
                <li>GET /api/v2/aws/buckets
                <li>GET /api/v2/aws/buckets;_all
                <li>GET /api/v2/aws/buckets/:name
        <td>
    <tr>
        <td>databases
        <td>
            <ul>
                <li>GET /api/v2/aws/databases
                <li>GET /api/v2/aws/databases;_all
                <li>GET /api/v2/aws/databases/:name
        <td>
    <tr>
        <td>iamGroups
        <td>
            <ul>
                <li>GET /api/v2/aws/iamGroups
                <li>GET /api/v2/aws/iamGroups;_all
                <li>GET /api/v2/aws/iamGroups/:name
        <td>
    <tr>
        <td>iamRoles
        <td>
            <ul>
                <li>GET /api/v2/aws/iamRoles
                <li>GET /api/v2/aws/iamRoles;_all
                <li>GET /api/v2/aws/iamRoles/:name
        <td>
    <tr>
        <td>iamUsers
        <td>
            <ul>
                <li>GET /api/v2/aws/iamUsers
                <li>GET /api/v2/aws/iamUsers;_all
                <li>GET /api/v2/aws/iamUsers/:name
        <td>
    <tr>
        <td>iamVirtualMFADevices
        <td>
            <ul>
                <li>GET /api/v2/aws/iamVirtualMFADevices
                <li>GET /api/v2/aws/iamVirtualMFADevices;_all
                <li>GET /api/v2/aws/iamVirtualMFADevices/:name
        <td>
    <tr>
        <td>images
        <td>
            <ul>
                <li>GET /api/v2/aws/images
                <li>GET /api/v2/aws/images;_all
                <li>GET /api/v2/aws/images/:name
        <td>
    <tr>
        <td>instances
        <td>
            <ul>
                <li>GET /api/v2/aws/instances
                <li>GET /api/v2/aws/instances;_all
                <li>GET /api/v2/aws/instances/:name
        <td>
    <tr>
        <td>launchConfigurations
        <td>
            <ul>
                <li>GET /api/v2/aws/launchConfigurations
                <li>GET /api/v2/aws/launchConfigurations;_all
                <li>GET /api/v2/aws/launchConfigurations/:name
        <td>
    <tr>
        <td>loadBalancers
        <td>
            <ul>
                <li>GET /api/v2/aws/loadBalancers
                <li>GET /api/v2/aws/loadBalancers;_all
                <li>GET /api/v2/aws/loadBalancers/:name
        <td>
            To find information about instances behind a load balancer, see the
            /view/loadBalancerInstances api
    <tr>
        <td>reservedInstances
        <td>
            <ul>
                <li>GET /api/v2/aws/reservedInstances
                <li>GET /api/v2/aws/reservedInstances;_all
                <li>GET /api/v2/aws/reservedInstances/:name
        <td>
    <tr>
        <td>scalingPolicies
        <td>
            <ul>
                <li>GET /api/v2/aws/scalingPolicies
                <li>GET /api/v2/aws/scalingPolicies;_all
                <li>GET /api/v2/aws/scalingPolicies/:name
        <td>
    <tr>
        <td>securityGroups
        <td>
            <ul>
                <li>GET /api/v2/aws/securityGroups
                <li>GET /api/v2/aws/securityGroups;_all
                <li>GET /api/v2/aws/securityGroups/:name
        <td>
    <tr>
        <td>snapshots
        <td>
            <ul>
                <li>GET /api/v2/aws/snapshots
                <li>GET /api/v2/aws/snapshots;_all
                <li>GET /api/v2/aws/snapshots/:name
        <td>
    <tr>
        <td>tags
        <td>
            <ul>
                <li>GET /api/v2/aws/tags
                <li>GET /api/v2/aws/tags;_all
                <li>GET /api/v2/aws/tags/:name
        <td>
            The tags api is a bit special. There are no primary keys for tags, there is a unique
            tuple of the tag name, the resource id and the resource type.
    <tr>
        <td>volumes
        <td>
            <ul>
                <li>GET /api/v2/aws/volumes
                <li>GET /api/v2/aws/volumes;_all
                <li>GET /api/v2/aws/volumes/:name
        <td>
</table>

<h3 id="apiv2group">/api/v2/group<a class="headerlink" href="#apiv2group" title="Permanent link">&para;</a></h3>
<p>These collections are special and quite different, because they primarily deal with group
memberships (i.e. instances that are members of AutoScalingGroups). There is no corresponding
AWS API that contains all the details. Also we do not store complete history for these APIs.
New document revisions are generated for history any time the membership changes, not when a
particular member changes.  If an instance change IP address, it will be captured and stored
to the data store, however you cannot find out what the previous IP address was with this API,
for that you would need to use <code>/view/instances</code>.  Basic interesting details about each member
are captured and stored, but for more information about the members you will need to use the
particular member apis.</p>
<p>An additional key added for each member is <code>slot</code>.  Slots are arbitrary numbers ranging from
0 to the size of the group. The slot numbers are assigned to members as soon as they appear, and
the slot ID will never change for a member.  When membership changes (ie old instance dies, new
instance becomes member) then the old slot id will be reassigned to the new member.  This
mechanism is primarily used within Netflix for our Monitoring systems, so they can efficiently
shard the massive amounts of metric data they collect for each instance.</p>
<p>When using time range Modifier Matrix Arguments, the historical members will be merged into a
single resource and the "end" time will be set to the last time the group saw the member.</p>
<table>
    <tr>
        <th>Collection <th>Endpoints <th>Notes
    <tr>
        <td>autoScalingGroups
        <td>
            <ul>
                <li>GET /api/v2/group/autoScalingGroups
                <li>GET /api/v2/group/autoScalingGroups;_all
                <li>GET /api/v2/group/autoScalingGroups/:name
        <td>
</table>

<h3 id="apiv2view">/api/v2/view<a class="headerlink" href="#apiv2view" title="Permanent link">&para;</a></h3>
<p>The view APIs represent aspects of other APIs, to make the data more usable and accessible.</p>
<p>The <code>/view/instances</code> collection is the most commonly used one, since <code>/aws/instances</code> really
returns the EC2 reservations.  Since the individual instance data is generally more useful for
us, we pull apart the <code>/aws/instances</code> document and store the instance details separated in a
<code>/view</code> API.</p>
<p>As described by the AWS SDK <code>DescribeInstances</code> documentation:</p>
<blockquote>
<p>The ID of the instance's reservation. A reservation ID is created any time you launch an
instance. A reservation ID has a one-to-one relationship with an instance launch request,
but can be associated with more than one instance if you launch multiple instances using
the same launch request. For example, if you launch one instance, you get one reservation
ID. If you launch ten instances using the same launch request, you also get one reservation
ID.</p>
</blockquote>
<p>The <code>/view/simpleQueues</code> API likewise does not correspond to a single AWS API, it is a merge of
multiple API calls to make the data more useful.</p>
<table>
    <tr>
        <th>Collection <th>Endpoints <th>Notes
    <tr>
        <td>instances
        <td>
            <ul>
                <li>GET /api/v2/view/instances
                <li>GET /api/v2/view/instances;_all
                <li>GET /api/v2/view/instances/:name
        <td>
            The documents from this API are derived from the /aws/instances API, but split
            out to be individually accessible.
    <tr>
        <td>loadBalancerInstances
        <td>
            <ul>
                <li>GET /api/v2/view/loadBalancerInstances
                <li>GET /api/v2/view/loadBalancerInstances;_all
                <li>GET /api/v2/view/loadBalancerInstances/:name
        <td>
            The documents from this API do not directly correspond to any AWS API; it is
            generated based on several AWS API calls.
    <tr>
        <td>simpleQueues
        <td>
            <ul>
                <li>GET /api/v2/view/simpleQueues
                <li>GET /api/v2/view/simpleQueues;_all
                <li>GET /api/v2/view/simpleQueues/:name
        <td>
            <p>The documents from this API do not directly correspond to any AWS API; it is
            generated based on several AWS API calls.</>
            <p>The Approximate* attributes are changing constantly, so Edda will not generate
            document revisions every time the values of an Approximate* key changes.  However
            a change to any other attribute will generate a new document revision.</p>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../aws-permissions/" title="AWS Permissions" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                AWS Permissions
              </span>
            </div>
          </a>
        
        
          <a href="../resiliency/" title="Resiliency" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Resiliency
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>